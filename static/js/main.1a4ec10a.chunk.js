(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{28:function(e,t,a){},49:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),s=a.n(c),o=(a(28),a(13)),u=a(4),i=a.n(u),l=a(6),b=a(5),j=(a(30),a(22)),p=a.n(j).a.create({baseURL:"https://pixabay.com/api/",params:{key:"23524775-df2d338982330c0756c93cc31",per_page:12,image_type:"photo",orientation:"horizontal"}});function m(e){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("?q=".concat(t));case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function f(e,t){return g.apply(this,arguments)}function g(){return(g=Object(l.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("?q=".concat(t,"&page=").concat(a));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}a(49);var v=a(1);function O(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(b.a)(a,2),c=r[0],s=r[1];return Object(v.jsx)("header",{className:"Searchbar",children:Object(v.jsxs)("form",{className:"SearchForm",onSubmit:t,children:[Object(v.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(v.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(v.jsx)("input",{name:"query",className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){s(e.target.value)}})]})})}function d(e){var t=e.tags,a=e.webformatURL,n=e.onClick,r=e.largeImageURL;return Object(v.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return n({largeImageURL:r,tags:t})},children:Object(v.jsx)("img",{className:"ImageGalleryItem-image",src:a,alt:t})})}function x(e){var t=e.imageArr,a=e.onClickImage;return Object(v.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.tags,c=e.largeImageURL;return Object(v.jsx)(d,{webformatURL:n,largeImageURL:c,tags:r,onClick:a},t)}))})}var y=a(23),k=a.n(y);function w(e){var t=e.children,a=e.onClick;return Object(v.jsx)("button",{className:"Button",type:"button",onClick:a,children:t})}var S=document.getElementById("modal-root");function I(e){var t=e.onClose,a=e.img;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}),[]);var r=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(v.jsx)("div",{className:"Overlay",onClick:function(e){var a=document.querySelector(".Overlay");e.target===a&&t()},children:Object(v.jsx)("div",{className:"Modal",children:Object(v.jsx)("img",{src:a.largeImageURL,alt:a.tags})})}),S)}var C=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(b.a)(c,2),u=s[0],j=s[1],p=Object(n.useState)(1),h=Object(b.a)(p,2),g=h[0],d=h[1],y=Object(n.useState)(0),S=Object(b.a)(y,2),C=S[0],L=S[1],N=Object(n.useState)(!1),R=Object(b.a)(N,2),U=R[0],q=R[1],E=Object(n.useState)(!1),F=Object(b.a)(E,2),A=F[0],B=F[1],G=Object(n.useState)({}),M=Object(b.a)(G,2),J=M[0],_=M[1],z=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r(t.target.query.value),d(1),q(!0),e.next=7,m(t.target.query.value);case 7:return a=e.sent,e.next=10,a.totalHits;case 10:return n=e.sent,e.next=13,a.hits;case 13:c=e.sent,L(D(n,c.length)),j(c),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0);case 21:return e.prev=21,q(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])})));return function(t){return e.apply(this,arguments)}}(),D=function(e,t){return Math.ceil(e/t)},H=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d((function(e){return e+1})),q(!0),e.next=5,f(a,g+1);case 5:return t=e.sent,e.next=8,t.hits;case 8:n=e.sent,j((function(e){return[].concat(Object(o.a)(e),Object(o.a)(n))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:return e.prev=15,q(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),P=function(){B(!A)};return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(O,{onSubmit:z}),Object(v.jsx)(x,{imageArr:u,onClickImage:function(e){_(e),P()}}),Object(v.jsx)(k.a,{type:"TailSpin",color:"#3f51b5",height:100,width:100,visible:U}),u.length>0&&g<C&&Object(v.jsx)(w,{onClick:H,children:"Load more"}),A&&Object(v.jsx)(I,{img:J,onClose:P})]})};s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(C,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.1a4ec10a.chunk.js.map